# Submit Generation

## Use Case

Any registered generator is eligible to issue certificates. Generation is usually submitted monthly for large generators and can be submitted annually for generators under 150kW.

M-RETS issues 1 Renewable Energy Cerificate for each MWh submit.

## Notes About the Entity

Submittal of generation occurs through the creation of a generation entry. The system runs a series of validation generation entries and automatically issues certifiates if all validations pass successfully.

## The Basic Call

To create a generation entry:

```
POST v1/public/rec/generation_entries
```

Here is an example with multiple multiple `fuel_types`:

```
{
    "data": {
        "type": "generation_entries",
        "attributes": {
            "generation_period_start": "2020-03-27T00:00:00Z",
            "generation_period_end": "2020-03-28T00:00:00Z",
            "quantity": 1,
            "fuel_allocation": [
                {
                    "generator_fuel_id": "1c8fde90-1544-46a0-aa99-b2b445b41cc4",
                    "new_allocation": "50",
                    "autogenerated": false
                },
                {
                    "generator_fuel_id": "b41cc4qr-1544-46a0-aa99-1c8fde90b2b445",
                    "new_allocation": "50",
                    "autogenerated": false
                }
            ]
        },
        "relationships": {
            "generator": {
                "data": {
                    "type": "generators",
                    "id": "33705258-62ad-4655-a57d-de5c2f0b0879"
                }
            }
        }
    }
}
```

## Enqueue the Generation Entry

To enqueue a generation entry:

```
PUT v1/public/rec/generation_entries/{generation_entry_id}/enqueue
```

The generation will enter a 'pending' status if it fails any feasibility validations and requires a correction or administrator approval.

# Validations

Some of the validations in place include:

- Generation more than 62 days old must be approved by the System Admin.
- There can't be any temporal gaps in the submittal of generation.
- Generation can't exceed the theoretical limits of a generator based on the nameplate capacity and capacity factor.

Here is an example response if there's a gap in the submittal process.

```
{
  "rows":[{"errors":["There's an existing generation that overlaps these dates"],"row":["727","206","8/2018","03/01/2019","03/15/2019","33945"]}]}
}
```
